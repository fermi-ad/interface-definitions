syntax = "proto3";

package drf;

import "google/protobuf/empty.proto";

import "common/event.proto";

message ArrayRange {
  sint64 start_index = 1;
  sint64 end_index = 2;
}

message ByteRange {
  sint64 offset = 1;
  sint64 length = 2;
}

message DRF {
  string name = 1;
  Property property = 2;
  Range range = 3;
  Field field = 4;
  event.Event event = 5;
}

message Field {
  enum AnalogAlarm {
    ANALOG_RAW = 0;
    ANALOG_ALL = 1;
    ANALOG_TEXT = 2;
    ANALOG_MINIMUM = 3;
    ANALOG_MAXIMUM = 4;
    ANALOG_NOMINAL = 5;
    ANALOG_TOLERANCE = 6;
    ANALOG_RAW_MIN = 7;
    ANALOG_RAW_MAX = 8;
    ANALOG_RAW_NOM = 9;
    ANALOG_RAW_TOL = 10;
    ANALOG_ALARM_ENABLE = 11;
    ANALOG_ALARM_STATUS = 12;
    ANALOG_TRIES_NEEDED = 13;
    ANALOG_TRIES_NOW = 14;
    ANALOG_ALARM_FTD = 15;
    ANALOG_ABORT = 16;
    ANALOG_ABORT_INHIBIT = 17;
    ANALOG_FLAGS = 18;
  }

  enum DigitalAlarm {
    DIGITAL_RAW = 0;
    DIGITAL_ALL = 1;
    DIGITAL_TEXT = 2;
    DIGITAL_NOMINAL = 3;
    DIGITAL_MASK = 4;
    DIGITAL_ALARM_ENABLE = 5;
    DIGITAL_ALARM_STATUS = 6;
    DIGITAL_TRIES_NEEDED = 7;
    DIGITAL_TRIES_NOW = 8;
    DIGITAL_ALARM_FTD = 9;
    DIGITAL_ABORT = 10;
    DIGITAL_ABORT_INHIBIT = 11;
    DIGITAL_FLAGS = 12;
  }

  enum Reading {
    READING_RAW = 0;
    READING_PRIMARY = 1;
    READING_VOLTS = 2;
    READING_SCALED = 3;
    READING_COMMON = 4;
  }

  enum Setting {
    SETTING_RAW = 0;
    SETTING_PRIMARY = 1;
    SETTING_VOLTS = 2;
    SETTING_SCALED = 3;
    SETTING_COMMON = 4;
  }

  enum Status {
    STATUS_RAW = 0;
    STATUS_ALL = 1;
    STATUS_TEXT = 2;
    STATUS_EXTENDED_TEXT = 3;
    STATUS_ON = 4;
    STATUS_READY = 5;
    STATUS_REMOTE = 6;
    STATUS_POSITIVE = 7;
    STATUS_RAMP = 8;
  }

  oneof attribute {
    Reading reading = 1;
    Setting setting = 2;
    Status status = 3;
    google.protobuf.Empty control = 4;
    AnalogAlarm analog_alarm = 5;
    DigitalAlarm digital_alarm = 6;
    google.protobuf.Empty description = 7;
  }
}

enum Property {
  READING = 0;
  SETTING = 1;
  BASIC_STATUS = 2;
  BASIC_CONTROL = 3;
  ANALOG_ALARM = 4;
  DIGITAL_ALARM = 5;
  DESCRIPTION = 6;
  INDEX = 7;
  LONG_NAME = 8;
  ALARM_LIST_NAME = 9;
}

message Range {
  oneof range {
    google.protobuf.Empty full_range = 1;
    ArrayRange array_range = 2;
    ByteRange byte_range = 3;
  }
}
