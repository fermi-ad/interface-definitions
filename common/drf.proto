syntax = "proto3";

package drf;

import "google/protobuf/empty.proto";

import "./event.proto";
import "./sources.proto";

message ArrayRange {
    int32 start_index = 1;
    int32 end_index = 2;
}

message ByteRange {
    int32 offset = 1;
    int32 length = 2;
}

message DRF {
    string name = 1;
    Property property = 2;
    Range range = 3;
    Field field = 4;
    Event event = 5;
    Source source = 6;
}

message Field {
    enum Reading {
        RAW = 0;
        PRIMARY = 1;
        VOLTS = 2;
        SCALED = 3;
        COMMON = 4;
    }
    
    enum Setting {
        RAW = 0;
        PRIMARY = 1;
        VOLTS = 2;
        SCALED = 3;
        COMMON = 4;
    }
    
    enum Status {
        RAW = 0;
        ALL = 1;
        TEXT = 2;
        EXTENDED_TEXT = 3;
        ON = 4;
        READY = 5;
        REMOTE = 6;
        POSITIVE = 7;
        RAMP = 8;
    }
    
    enum AnalogAlarm {
        RAW = 0;
        ALL = 1;
        TEXT = 2;
        MIN = 3;
        MINIMUM = 3;
        MAX = 4;
        MAXIMUM = 4;
        NOM = 5;
        NOMINAL = 5;
        TOL = 6;
        TOLERANCE = 6;
        RAW_MIN = 7;
        RAWMIN = 7;
        RAW_MAX = 8;
        RAWMAX = 8;
        RAW_NOM = 9;
        RAWNOM = 9;
        RAW_TOL = 10;
        RAWTOL = 10;
        ALARM_ENABLE = 11;
        ENABLE = 11;
        ALARM_STATUS = 12;
        STATUS = 12;
        TRIES_NEEDED = 13;
        TRIES_NOW = 14;
        ALARM_FTD = 15;
        FTD = 15;
        ABORT = 16;
        ABORT_INHIBIT = 17;
        FLAGS = 18;
    }
    
    enum DigitalAlarm {
        RAW = 0;
        ALL = 1;
        TEXT = 2;
        NOM = 3;
        NOMINAL = 3;
        MASK = 4;
        ALARM_ENABLE = 5;
        ENABLE = 5;
        ALARM_STATUS = 6;
        STATUS = 6;
        TRIES_NEEDED = 7;
        TRIES_NOW = 8;
        ALARM_FTD = 9;
        FTD = 9;
        ABORT = 10;
        ABORT_INHIBIT = 11;
        FLAGS = 12;
    }

    oneof attribute {
        Reading reading = 1;
        Setting setting = 2;
        Status status = 3;
        empty control = 4;
        AnalogAlarm analog_alarm = 5;
        DigitalAlarm digital_alarm = 6;
        empty description = 7;
    }
}

enum Property {
    READING = 0;
    READ = 0;
    PRREAD = 0;
    SETTING = 1;
    SET = 1;
    PRSET = 1;
    STATUS = 2;
    BASIC_STATUS = 2;
    STS = 2;
    PRBSTS = 2;
    CONTROL = 3;
    BASIC_CONTROL = 3;
    CTRL = 3;
    PRBCTL = 3;
    ANALOG = 4;
    ANALOG_ALARM = 4;
    AA = 4;
    PRANAB = 4;
    DIGITAL = 5;
    DIGITAL_ALARM = 5;
    DA = 5;
    PRDABL = 5;
    DESCRIPTION = 6;
    DESC = 6;
    PRDESC = 6;
    INDEX = 7;
    LONG_NAME = 7;
    LNGNAM = 7;
    PRLNAM = 7;
    ALARM_LIST_NAME = 8;
    LSTNAM = 8;
    PRALNM = 8;
}

message Range {
    oneof range {
        empty full_range = 1;
        ArrayRange array_range = 2;
        ByteRange byte_range = 3;
    }
}
