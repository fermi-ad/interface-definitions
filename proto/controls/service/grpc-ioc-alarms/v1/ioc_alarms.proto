syntax = "proto3";

package services.ioc_alarms;

import "google/protobuf/timestamp.proto";

service IocAlarms {
    rpc getIocAlarms(IocAlarmsRequest) returns (IocAlarmsResponse);
}

message IocAlarmsRequest {
    repeated string pv_name_list = 1;
}

message IocAlarmsResponse {
    repeated AlarmInfo alarm_info = 1;
}

message AlarmInfo {
    string system = 1;
    string state = 2;
    string pv_name = 3;
    string alarm_type = 4;
    double hihi = 5;
    double hi = 6;
    double lo = 7;
    double lolo = 8;
    string hhsv = 9;
    string hsv = 10;
    string lsv = 11;
    string llsv = 12;
    string units = 13;
    bool autosms = 14;
    string mode = 15;
    double frequency = 16;
    double deadband = 17;
    string operator_ = 18;  // Changed from "operator" to "operator_"
    double transition = 19;
    google.protobuf.Timestamp creationtime = 20; // Corrected reference
    google.protobuf.Timestamp validuntiltime = 21; // Corrected reference
}
