syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";

package services.alarm_timers;

service AlarmTimerService {
    rpc deleteTimer(DeleteRequest) returns (google.protobuf.Empty);
    rpc getAllTimers(google.protobuf.Empty) returns (AlarmTimers);
    rpc setTimer(AlarmTimer) returns (google.protobuf.Empty);
    rpc updateTimer(AlarmTimer) returns (google.protobuf.Empty);
}

enum TimerType {
    TimerType_UNKNOWN = 0;
    TimerType_SNOOZE = 1;
    TimerType_BYPASS_REMINDER = 2;
}

message DeleteRequest {
    string device = 1;
    TimerType timer_type = 2;
}

message AlarmTimer {
    string device = 1;
    google.protobuf.Timestamp end_time = 2;
    TimerType timer_type = 3;
    google.protobuf.Timestamp updated_at = 4;
    string updated_by = 5;
}

message AlarmTimers {
    repeated AlarmTimer alarm_timers = 1;
}
